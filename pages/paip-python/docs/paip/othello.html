<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>othello.py</title>
  <link rel="stylesheet" href="../pycco.css">
</head>
<body>
<div id="background"></div>
<div id='container'>
  
  <div class='section'>
    <div class='docs'><h1>othello.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p><strong>Othello</strong> is a turn-based two-player strategy board game.  The players take
turns placing pieces--one player white and the other player black--on an 8x8
board in such a way that captures some of the opponent's pieces, with the goal
of finishing the game with more pieces of their color on the board.</p>
<p>Every move must capture one more more of the opponent's pieces.  To capture,
player A places a piece adjacent to one of player B's pieces so that there is a
straight line (horizontal, vertical, or diagonal) of adjacent pieces that begins
with one of player A's pieces, continues with one more more of player B's
pieces, and ends with one of player A's pieces.</p>
<p>For example, if Black places a piece on square (5, 1), he will capture all of
Black's pieces between (5, 1) and (5, 6):</p>
<pre><code>  1 2 3 4 5 6 7 8      1 2 3 4 5 6 7 8
1 . . . . . . . .    1 . . . . . . . .
2 . . . . . . . .    2 . . . . . . . .
3 . . o @ . o . .    3 . . o @ . o . .
4 . . o o @ @ . .    4 . . o o @ @ . .
5 . o o o o @ . .    5 @ @ @ @ @ @ . .
6 . . . @ o . . .    6 . . . @ o . . .
7 . . . . . . . .    7 . . . . . . . .
8 . . . . . . . .    8 . . . . . . . .
</code></pre>
<p>For more more information about the game (which is also known as Reversi)
including detailed rules, see the entry on <a href="http://en.wikipedia.org/wiki/Reversi">Wikipedia</a>.  Additionally,
this implementation doesn't take into account some tournament-style Othello
details, such as game time limits and a different indexing scheme.</p>
<p>We will implement representations for the board and pieces and the mechanics of
playing a game.  We will then explore several game-playing strategies.  There is
a simple command-line program <a href="examples/othello/othello.html">provided</a> for
playing against the computer or comparing two strategies.</p>
<p>Written by <a href="http://dhconnelly.com">Daniel Connelly</a>.  This implementation follows
chapter 18 of Peter Norvig's "Paradigms of Artificial Intelligence".</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <hr />
<h1>Table of contents</h1>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <ol>
<li><a href="#board">Board representation</a></li>
<li><a href="#playing">Playing the game</a></li>
<li><a href="#strategies">Strategies</a><ul>
<li><a href="#random">Random</a><br></li>
<li><a href="#localmax">Local maximization</a><br></li>
<li><a href="#minimax">Minimax search</a><br></li>
<li><a href="#alphabeta">Alpha-beta search</a><br></li>
</ul>
</li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <hr />
<p><a id="board"></a></p>
<h1>Board representation</h1>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p>We represent the board as a 100-element list, which includes each square on
the board as well as the outside edge.  Each consecutive sublist of ten
elements represents a single row, and each list element stores a piece.  An
initial board contains four pieces in the center:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <pre><code>? ? ? ? ? ? ? ? ? ?
? . . . . . . . . ?
? . . . . . . . . ?
? . . . . . . . . ?
? . . . o @ . . . ?
? . . . @ o . . . ?
? . . . . . . . . ?
? . . . . . . . . ?
? . . . . . . . . ?
? ? ? ? ? ? ? ? ? ?
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <p>This representation has two useful properties:</p>
<ol>
<li>Square (m,n) can be accessed as <code>board[mn]</code>.  This avoids the need to write
   functions that convert between square locations and list indexes.</li>
<li>Operations involving bounds checking are slightly simpler.</li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <p>The outside edge is marked ?, empty squares are ., black is @, and white is o.
The black and white pieces represent the two players.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">EMPTY</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">OUTER</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span><span class="p">,</span> <span class="s">&#39;@&#39;</span><span class="p">,</span> <span class="s">&#39;o&#39;</span><span class="p">,</span> <span class="s">&#39;?&#39;</span>
<span class="n">PIECES</span> <span class="o">=</span> <span class="p">(</span><span class="n">EMPTY</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">OUTER</span><span class="p">)</span>
<span class="n">PLAYERS</span> <span class="o">=</span> <span class="p">{</span><span class="n">BLACK</span><span class="p">:</span> <span class="s">&#39;Black&#39;</span><span class="p">,</span> <span class="n">WHITE</span><span class="p">:</span> <span class="s">&#39;White&#39;</span><span class="p">}</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p>To refer to neighbor squares we can add a direction to a square.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">UP</span><span class="p">,</span> <span class="n">DOWN</span><span class="p">,</span> <span class="n">LEFT</span><span class="p">,</span> <span class="n">RIGHT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">UP_RIGHT</span><span class="p">,</span> <span class="n">DOWN_RIGHT</span><span class="p">,</span> <span class="n">DOWN_LEFT</span><span class="p">,</span> <span class="n">UP_LEFT</span> <span class="o">=</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span>
<span class="n">DIRECTIONS</span> <span class="o">=</span> <span class="p">(</span><span class="n">UP</span><span class="p">,</span> <span class="n">UP_RIGHT</span><span class="p">,</span> <span class="n">RIGHT</span><span class="p">,</span> <span class="n">DOWN_RIGHT</span><span class="p">,</span> <span class="n">DOWN</span><span class="p">,</span> <span class="n">DOWN_LEFT</span><span class="p">,</span> <span class="n">LEFT</span><span class="p">,</span> <span class="n">UP_LEFT</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <p>List all the valid squares on the board.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">squares</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">89</span><span class="p">)</span> <span class="k">if</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p>Create a new board with the initial black and white positions filled.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">initial_board</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">board</span> <span class="o">=</span> <span class="p">[</span><span class="n">OUTER</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">():</span>
        <span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">EMPTY</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <p>The middle four squares should hold the initial piece positions.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">board</span><span class="p">[</span><span class="mi">44</span><span class="p">],</span> <span class="n">board</span><span class="p">[</span><span class="mi">45</span><span class="p">]</span> <span class="o">=</span> <span class="n">WHITE</span><span class="p">,</span> <span class="n">BLACK</span>
    <span class="n">board</span><span class="p">[</span><span class="mi">54</span><span class="p">],</span> <span class="n">board</span><span class="p">[</span><span class="mi">55</span><span class="p">]</span> <span class="o">=</span> <span class="n">BLACK</span><span class="p">,</span> <span class="n">WHITE</span>
    <span class="k">return</span> <span class="n">board</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p>Get a string representation of the board.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">print_board</span><span class="p">(</span><span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">rep</span> <span class="o">=</span> <span class="s">&#39;&#39;</span>
    <span class="n">rep</span> <span class="o">+=</span> <span class="s">&#39;  </span><span class="si">%s</span><span class="se">\n</span><span class="s">&#39;</span> <span class="o">%</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">):</span>
        <span class="n">begin</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="mi">10</span><span class="o">*</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="o">*</span><span class="n">row</span> <span class="o">+</span> <span class="mi">9</span>
        <span class="n">rep</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="si">%d</span><span class="s"> </span><span class="si">%s</span><span class="se">\n</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">begin</span><span class="p">:</span><span class="n">end</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">rep</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <hr />
<p><a id="playing"></a></p>
<h1>Playing the game</h1>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      <p>We need functions to get moves from players, check to make sure that the moves
are legal, apply the moves to the board, and detect when the game is over.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <h2>Checking moves</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      <p>A move must be both valid and legal: it must refer to a real square, and it
must form a bracket with another piece of the same color with pieces of the
opposite color in between.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <p>Is move a square on the board?</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">is_valid</span><span class="p">(</span><span class="n">move</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">and</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <p>Get player's opponent piece.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">BLACK</span> <span class="k">if</span> <span class="n">player</span> <span class="ow">is</span> <span class="n">WHITE</span> <span class="k">else</span> <span class="n">WHITE</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <p>Find a square that forms a bracket with <code>square</code> for <code>player</code> in the given
<code>direction</code>.  Returns None if no such square exists.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">find_bracket</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">bracket</span> <span class="o">=</span> <span class="n">square</span> <span class="o">+</span> <span class="n">direction</span>
    <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">bracket</span><span class="p">]</span> <span class="o">==</span> <span class="n">player</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>
    <span class="n">opp</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">board</span><span class="p">[</span><span class="n">bracket</span><span class="p">]</span> <span class="o">==</span> <span class="n">opp</span><span class="p">:</span>
        <span class="n">bracket</span> <span class="o">+=</span> <span class="n">direction</span>
    <span class="k">return</span> <span class="bp">None</span> <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">bracket</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="n">OUTER</span><span class="p">,</span> <span class="n">EMPTY</span><span class="p">)</span> <span class="k">else</span> <span class="n">bracket</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <p>Is this a legal move for the player?</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">is_legal</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">hasbracket</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">direction</span><span class="p">:</span> <span class="n">find_bracket</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">==</span> <span class="n">EMPTY</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">hasbracket</span><span class="p">,</span> <span class="n">DIRECTIONS</span><span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <h2>Making moves</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      <p>When the player makes a move, we need to update the board and flip all the
bracketed pieces.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <p>Update the board to reflect the move by the specified player.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">make_move</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">board</span><span class="p">[</span><span class="n">move</span><span class="p">]</span> <span class="o">=</span> <span class="n">player</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">DIRECTIONS</span><span class="p">:</span>
        <span class="n">make_flips</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">d</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">board</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <p>Flip pieces in the given direction as a result of the move by player.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">make_flips</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">bracket</span> <span class="o">=</span> <span class="n">find_bracket</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">bracket</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">square</span> <span class="o">=</span> <span class="n">move</span> <span class="o">+</span> <span class="n">direction</span>
    <span class="k">while</span> <span class="n">square</span> <span class="o">!=</span> <span class="n">bracket</span><span class="p">:</span>
        <span class="n">board</span><span class="p">[</span><span class="n">square</span><span class="p">]</span> <span class="o">=</span> <span class="n">player</span>
        <span class="n">square</span> <span class="o">+=</span> <span class="n">direction</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      <h2>Monitoring players</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">IllegalMoveError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">move</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">player</span> <span class="o">=</span> <span class="n">player</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move</span> <span class="o">=</span> <span class="n">move</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">board</span> <span class="o">=</span> <span class="n">board</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> cannot move to square </span><span class="si">%d</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">PLAYERS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">player</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">move</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      <p>Get a list of all legal moves for player.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">legal_moves</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="p">[</span><span class="n">sq</span> <span class="k">for</span> <span class="n">sq</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">()</span> <span class="k">if</span> <span class="n">is_legal</span><span class="p">(</span><span class="n">sq</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      <p>Can player make any moves?</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">any_legal_move</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">is_legal</span><span class="p">(</span><span class="n">sq</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span> <span class="k">for</span> <span class="n">sq</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">())</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      <h2>Putting it all together</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <p>Each round consists of:</p>
<ul>
<li>Get a move from the current player.</li>
<li>Apply it to the board.</li>
<li>Switch players.  If the game is over, get the final score.</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      <p>Play a game of Othello and return the final board and score.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="n">black_strategy</span><span class="p">,</span> <span class="n">white_strategy</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">board</span> <span class="o">=</span> <span class="n">initial_board</span><span class="p">()</span>
    <span class="n">player</span> <span class="o">=</span> <span class="n">BLACK</span>
    <span class="n">strategy</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">who</span><span class="p">:</span> <span class="n">black_strategy</span> <span class="k">if</span> <span class="n">who</span> <span class="o">==</span> <span class="n">BLACK</span> <span class="k">else</span> <span class="n">white_strategy</span>
    <span class="k">while</span> <span class="n">player</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">move</span> <span class="o">=</span> <span class="n">get_move</span><span class="p">(</span><span class="n">strategy</span><span class="p">(</span><span class="n">player</span><span class="p">),</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span>
        <span class="n">make_move</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span>
        <span class="n">player</span> <span class="o">=</span> <span class="n">next_player</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">player</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">board</span><span class="p">,</span> <span class="n">score</span><span class="p">(</span><span class="n">BLACK</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      <p>Which player should move next?  Returns None if no legal moves exist.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">next_player</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">prev_player</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">opp</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">(</span><span class="n">prev_player</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">any_legal_move</span><span class="p">(</span><span class="n">opp</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">opp</span>
    <span class="k">elif</span> <span class="n">any_legal_move</span><span class="p">(</span><span class="n">prev_player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">prev_player</span>
    <span class="k">return</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      <p>Call strategy(player, board) to get a move.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_move</span><span class="p">(</span><span class="n">strategy</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">copy</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">board</span><span class="p">)</span> <span class="c"># copy the board to prevent cheating</span>
    <span class="n">move</span> <span class="o">=</span> <span class="n">strategy</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid</span><span class="p">(</span><span class="n">move</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">is_legal</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">IllegalMoveError</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">move</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">move</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      <p>Compute player's score (number of player's pieces minus opponent's).</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">score</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">mine</span><span class="p">,</span> <span class="n">theirs</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="n">opp</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">sq</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">():</span>
        <span class="n">piece</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="n">sq</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">piece</span> <span class="o">==</span> <span class="n">player</span><span class="p">:</span> <span class="n">mine</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">piece</span> <span class="o">==</span> <span class="n">opp</span><span class="p">:</span> <span class="n">theirs</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">mine</span> <span class="o">-</span> <span class="n">theirs</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      <hr />
<p><a id="strategies"></a></p>
<h1>Play strategies</h1>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-53'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-53'>#</a>
      </div>
      <p><a id="random"></a></p>
<h2>Random</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-54'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-54'>#</a>
      </div>
      <p>The easiest strategy to implement simply picks a move at random.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="kn">import</span> <span class="nn">random</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-55'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-55'>#</a>
      </div>
      <p>A strategy that always chooses a random legal move.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">random_strategy</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-56'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-56'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">legal_moves</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-57'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-57'>#</a>
      </div>
      <p><a id="localmax"></a></p>
<h2>Local maximization</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-58'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-58'>#</a>
      </div>
      <p>A more sophisticated strategy could look at every available move and evaluate
them in some way.  This consists of getting a list of legal moves, applying
each one to a copy of the board, and choosing the move that results in the
"best" board.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-59'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-59'>#</a>
      </div>
      <p>Construct a strategy that chooses the best move by maximizing
evaluate(player, board) over all boards resulting from legal moves.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">maximizer</span><span class="p">(</span><span class="n">evaluate</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-60'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-60'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-61'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-61'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">def</span> <span class="nf">score_move</span><span class="p">(</span><span class="n">move</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">make_move</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">board</span><span class="p">)))</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">legal_moves</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">),</span> <span class="n">key</span><span class="o">=</span><span class="n">score_move</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">strategy</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-62'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-62'>#</a>
      </div>
      <p>One possible evaluation function is <code>score</code>.  A strategy constructed with
<code>maximizer(score)</code> will always make the move that results in the largest
immediate gain in pieces.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-63'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-63'>#</a>
      </div>
      <p>A more advanced evaluation function might consider the relative worth of each
square on the board and weight the score by the value of the pieces held by
each player.  Since corners and (most) edge squares are very valuable, we
could weight those more heavily, and add negative weights to the squares that,
if acquired, could lead to the opponent capturing the corners or edges.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">SQUARE_WEIGHTS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">15</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>  <span class="mi">15</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">15</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>  <span class="mi">15</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span>  <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>  <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
    <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>
<span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-64'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-64'>#</a>
      </div>
      <p>A strategy constructed as <code>maximizer(weighted_score)</code>, then, will always
return the move that results in the largest immediate <em>weighted</em> gain in
pieces.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-65'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-65'>#</a>
      </div>
      <p>Compute the difference between the sum of the weights of player's
squares and the sum of the weights of opponent's squares.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">weighted_score</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-66'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-66'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">opp</span> <span class="o">=</span> <span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">sq</span> <span class="ow">in</span> <span class="n">squares</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">sq</span><span class="p">]</span> <span class="o">==</span> <span class="n">player</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">+=</span> <span class="n">SQUARE_WEIGHTS</span><span class="p">[</span><span class="n">sq</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">board</span><span class="p">[</span><span class="n">sq</span><span class="p">]</span> <span class="o">==</span> <span class="n">opp</span><span class="p">:</span>
            <span class="n">total</span> <span class="o">-=</span> <span class="n">SQUARE_WEIGHTS</span><span class="p">[</span><span class="n">sq</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">total</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-67'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-67'>#</a>
      </div>
      <p><a id="minimax"></a></p>
<h2>Minimax search</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-68'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-68'>#</a>
      </div>
      <p>The maximizer strategies are very short-sighted, and a player who can consider
the implications of a move several turns in advance could have a significant
advantage.  The <strong>minimax</strong> algorithm does just that.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-69'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-69'>#</a>
      </div>
      <p>Find the best legal move for player, searching to the specified depth.
Returns a tuple (move, min_score), where min_score is the guaranteed minimum
score achievable for player if the move is made.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">minimax</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-70'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-70'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-71'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-71'>#</a>
      </div>
      <p>We define the value of a board to be the opposite of its value to our
opponent, computed by recursively applying <code>minimax</code> for our opponent.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="n">board</span><span class="p">):</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">minimax</span><span class="p">(</span><span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">),</span> <span class="n">board</span><span class="p">,</span> <span class="n">depth</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-72'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-72'>#</a>
      </div>
      <p>When depth is zero, don't examine possible moves--just determine the value
of this board to the player.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">),</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-73'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-73'>#</a>
      </div>
      <p>We want to evaluate all the legal moves by considering their implications
<code>depth</code> turns in advance.  First, find all the legal moves.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">moves</span> <span class="o">=</span> <span class="n">legal_moves</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-74'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-74'>#</a>
      </div>
      <p>If player has no legal moves, then either:</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">moves</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-75'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-75'>#</a>
      </div>
      <p>the game is over, so the best achievable score is victory or defeat;</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="ow">not</span> <span class="n">any_legal_move</span><span class="p">(</span><span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">),</span> <span class="n">board</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">final_value</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">),</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-76'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-76'>#</a>
      </div>
      <p>or we have to pass this turn, so just find the value of this board.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="n">value</span><span class="p">(</span><span class="n">board</span><span class="p">),</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-77'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-77'>#</a>
      </div>
      <p>When there are multiple legal moves available, choose the best one by
maximizing the value of the resulting boards.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="nb">max</span><span class="p">((</span><span class="n">value</span><span class="p">(</span><span class="n">make_move</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">board</span><span class="p">))),</span> <span class="n">m</span><span class="p">)</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">moves</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-78'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-78'>#</a>
      </div>
      <p>Values for endgame boards are big constants.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="n">MAX_VALUE</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span> <span class="n">SQUARE_WEIGHTS</span><span class="p">))</span>
<span class="n">MIN_VALUE</span> <span class="o">=</span> <span class="o">-</span><span class="n">MAX_VALUE</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-79'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-79'>#</a>
      </div>
      <p>The game is over--find the value of this board to player.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">final_value</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-80'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-80'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">diff</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MIN_VALUE</span>
    <span class="k">elif</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MAX_VALUE</span>
    <span class="k">return</span> <span class="n">diff</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-81'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-81'>#</a>
      </div>
      <p>Construct a strategy that uses <code>minimax</code> with the specified leaf board
evaluation function.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">minimax_searcher</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-82'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-82'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">minimax</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">strategy</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-83'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-83'>#</a>
      </div>
      <p><a id="alphabeta"></a></p>
<h2>Alpha-Beta search</h2>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-84'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-84'>#</a>
      </div>
      <p>Minimax is very effective, but it does too much work: it evaluates many search
trees that should be ignored.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-85'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-85'>#</a>
      </div>
      <p>Consider what happens when minimax is evaluating two moves, M1 and M2, on one
level of a search tree.  Suppose minimax determines that M1 can result in a
score of S.  While evaluating M2, if minimax finds a move in its subtree that
could result in a better score than S, the algorithm should immediately quit
evaluating M2: the opponent will force us to play M1 to avoid the higher score
resulting from M1, so we shouldn't waste time determining just how much better
M2 is than M1.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-86'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-86'>#</a>
      </div>
      <p>We need to keep track of two values:</p>
<ul>
<li>alpha: the maximum score achievable by any of the moves we have encountered.</li>
<li>beta: the score that the opponent can keep us under by playing other moves.</li>
</ul>
<p>When the algorithm begins, alpha is the smallest value and beta is the largest
value.  During evaluation, if we find a move that causes <code>alpha &gt;= beta</code>, then
we can quit searching this subtree since the opponent can prevent us from
playing it.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-87'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-87'>#</a>
      </div>
      <p>Find the best legal move for player, searching to the specified depth.  Like
minimax, but uses the bounds alpha and beta to prune branches.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">alphabeta</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-88'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-88'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="n">depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">),</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-89'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-89'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-90'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-90'>#</a>
      </div>
      <p>Like in <code>minimax</code>, the value of a board is the opposite of its value
to the opponent.  We pass in <code>-beta</code> and <code>-alpha</code> as the alpha and
beta values, respectively, for the opponent, since <code>alpha</code> represents
the best score we know we can achieve and is therefore the worst score
achievable by the opponent.  Similarly, <code>beta</code> is the worst score that
our opponent can hold us to, so it is the best score that they can
achieve.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="o">-</span><span class="n">alphabeta</span><span class="p">(</span><span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">),</span> <span class="n">board</span><span class="p">,</span> <span class="o">-</span><span class="n">beta</span><span class="p">,</span> <span class="o">-</span><span class="n">alpha</span><span class="p">,</span> <span class="n">depth</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="n">moves</span> <span class="o">=</span> <span class="n">legal_moves</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">moves</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">any_legal_move</span><span class="p">(</span><span class="n">opponent</span><span class="p">(</span><span class="n">player</span><span class="p">),</span> <span class="n">board</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">final_value</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">),</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">(</span><span class="n">board</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">),</span> <span class="bp">None</span>
    
    <span class="n">best_move</span> <span class="o">=</span> <span class="n">moves</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">move</span> <span class="ow">in</span> <span class="n">moves</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">alpha</span> <span class="o">&gt;=</span> <span class="n">beta</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-91'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-91'>#</a>
      </div>
      <p>If one of the legal moves leads to a better score than beta, then
the opponent will avoid this branch, so we can quit looking.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">break</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">value</span><span class="p">(</span><span class="n">make_move</span><span class="p">(</span><span class="n">move</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">board</span><span class="p">)),</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;</span> <span class="n">alpha</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-92'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-92'>#</a>
      </div>
      <p>If one of the moves leads to a better score than the current best
achievable score, then replace it with this one.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">alpha</span> <span class="o">=</span> <span class="n">val</span>
            <span class="n">best_move</span> <span class="o">=</span> <span class="n">move</span>
    <span class="k">return</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">best_move</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-93'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-93'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">alphabeta_searcher</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-94'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-94'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">strategy</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">alphabeta</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">MIN_VALUE</span><span class="p">,</span> <span class="n">MAX_VALUE</span><span class="p">,</span> <span class="n">depth</span><span class="p">,</span> <span class="n">evaluate</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">strategy</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-95'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-95'>#</a>
      </div>
      <hr />
<p><a id="conclusion"></a></p>
<h1>Conclusion</h1>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div><div class='section' id='section-96'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-96'>#</a>
      </div>
      <p>The strategies we've discussed are very general and are applicable to a broad
range of strategy games, such as Chess, Checkers, and Go.  More advanced
strategies for Othello exist that apply various gameplay heuristics; some of
these are discussed in "Paradigms of Artificial Intelligence Programming" by
Peter Norvig.</p>
<p>See Wikipedia for more details on <a href="http://en.wikipedia.org/wiki/Minimax">minimax</a> and <a href="http://en.wikipedia.org/wiki/Alpha-beta_pruning">alpha-beta</a> search.</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
